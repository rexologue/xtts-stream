# Broker configuration file for coordinating multiple balancers

service:
  host: 0.0.0.0
  port: 19000
  # Load-balancing strategy across registered balancers: deep|wide|random
  strategy: deep
  # Timeout (seconds) when checking each balancer's idle worker endpoint
  balancer_timeout_seconds: 2.0

# Example deployment topologies:
#
# Single broker + single balancer:
#   - Run the broker with XTTS_BROKER_CONFIG_FILE pointing to this file.
#   - Configure the balancer with standalone_mode: false and broker_host/port matching above.
#
# Single broker + multiple balancers across machines:
#   - Launch the broker with a reachable host/port.
#   - On each machine, set standalone_mode: false and broker_host/port to the broker address.
#   - Each balancer will register automatically on startup and be eligible for selection.

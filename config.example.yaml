# XTTS Stream configuration file
# Copy this file and set XTTS_CONFIG_FILE to its path before starting the service.

service:
  host: 0.0.0.0
  port: 8000
  # Number of worker processes to launch for generation
  instances: 1
  # When true, accept client connections directly. When false, the balancer
  # registers with a central Broker and only accepts requests forwarded by it.
  standalone_mode: true
  # Broker connection details (required when standalone_mode is false)
  broker_host: 127.0.0.1
  broker_port: 9000
  # Directory for worker streaming metrics logs
  log_dir: /app/logs
  # Send the very first PCM shard without waiting for pacing lead
  first_packet_no_wait: false

model:
  # Directory containing XTTS artefacts (model.pth, config.json, vocab.json, ref_file)
  directory: /app/model
  # Directory with multiple reference voices (.mp3). When set, all samples are preloaded
  # and served by name from the websocket path /v1/text-to-speech/{voice_id}/stream-input.
  voices_dir: /app/voices
  # Reference audio used for voice cloning when no voices_dir is provided.
  ref_file: /app/reference.wav
  # Language for the model.
  language: ru
  # Device hint ("auto", "cuda", "cpu")
  device: auto
  # Enable RUAccent auto-accentizer preprocessing.
  enable_accentizer: true

